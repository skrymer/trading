# TestContainers PostgreSQL - URL is dynamically set by AbstractIntegrationTest
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jooq.sql-dialect=POSTGRES

# Enable Flyway for test database initialization
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=1
spring.flyway.locations=classpath:db/migration
spring.flyway.validate-on-migrate=true

# Disable caching in tests to avoid stale data
spring.cache.type=none

# Shorter timeouts for tests
spring.mvc.async.request-timeout=60000

# Disable scheduled stock refresh in tests
stock.refresh.schedule.enabled=false

# Massive API test configuration
massive.api.baseUrl=http://localhost:9999
massive.api.key=test-key

# Disable security in tests
app.security.enabled=false

# Reduce logging noise in tests
logging.level.root=WARN
logging.level.com.skrymer.udgaard=INFO
logging.level.org.testcontainers=INFO
logging.level.org.flywaydb=INFO
